<!DOCTYPE html><html lang="bn">
<head>
  <meta charset="UTF-8">
  <title>Monetag Mini Earning App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src='//libtl.com/sdk.js' data-zone='9632215' data-sdk='show_9632215'></script>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background: #f0f0f0; padding: 20px; }
    .container { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ccc; max-width: 400px; margin: auto; }
    .countdown { font-size: 24px; margin: 20px 0; color: #333; }
    .btn { background: #28a745; color: white; padding: 12px 20px; font-size: 16px; border: none; border-radius: 5px; cursor: pointer; }
    .btn:disabled { background: gray; cursor: not-allowed; }
    input, select { padding: 10px; width: 90%; margin: 10px auto; border: 1px solid #ccc; border-radius: 5px; display: block; }
  </style>
</head>
<body>
  <div class="container">
    <h2>ЁЯОБ Monetag Mini Earning</h2>
    <p>ржЖржкржирж╛рж░ ржирж╛ржо рж▓рж┐ржЦрзБржи:</p>
    <input type="text" id="username" placeholder="ржирж╛ржо ржжрж┐ржи"><p>рж░рзЗржлрж╛рж░ ржХрзЛржб (ржпржжрж┐ ржерж╛ржХрзЗ):</p>
<input type="text" id="referral" placeholder="рж░рзЗржлрж╛рж░ ржХрзЛржб ржжрж┐ржи (ржРржЪрзНржЫрж┐ржХ)">

<div class="countdown" id="timer">10</div>
<button class="btn" id="earnBtn" onclick="earnNow()" disabled>ЁЯСЙ ржПржб ржжрзЗржЦрзБржи ржУ ржЖрзЯ ржХрж░рзБржи</button>

<p>ржЖржЬржХрзЗрж░ ржПржб ржнрж┐ржЙ: <span id="viewCount">0</span>/5</p>
<p>ржЖржкржирж╛рж░ ржорзЛржЯ ржкржпрж╝рзЗржирзНржЯ: <span id="balance">0</span> ржкржпрж╝рзЗржирзНржЯ</p>

<hr>
<h3>ЁЯЪА рж░рзЗржлрж╛рж░рзЗрж▓ рж▓рж┐ржВржХ:</h3>
<p><code id="refLink">Loading...</code></p>

<hr>
<h3>ЁЯТ╕ ржкржпрж╝рзЗржирзНржЯ рж░рж┐ржбрж┐ржо ржХрж░рждрзЗ ржЪрж╛ржи?</h3>
<form id="withdrawForm">
  <input type="text" id="bkashNumber" placeholder="Bkash/Nagad ржиржорзНржмрж░ ржжрж┐ржи" required>
  <button class="btn" type="submit">ЁЯУд рж░рж┐ржбрж┐ржо рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрж╛ржарж╛ржи</button>
</form>

  </div>  <script>
    let seconds = 10;
    let timer = document.getElementById("timer");
    let earnBtn = document.getElementById("earnBtn");
    let viewCount = localStorage.getItem("viewCount") || 0;
    let balance = localStorage.getItem("balance") || 0;
    let user = localStorage.getItem("username") || "";

    document.getElementById("viewCount").innerText = viewCount;
    document.getElementById("balance").innerText = balance;

    let countdown = setInterval(() => {
      seconds--;
      timer.innerText = seconds;
      if (seconds <= 0) {
        clearInterval(countdown);
        earnBtn.disabled = false;
        timer.innerText = "тЬЕ ржПржЦржи ржПржб ржжрзЗржЦрзБржи";
      }
    }, 1000);

    function earnNow() {
      let username = document.getElementById("username").value.trim();
      let referral = document.getElementById("referral").value.trim();
      if (!username) return alert("ржирж╛ржо рж▓рж┐ржЦрзБржи");
      if (viewCount >= 5) return alert("ржЖржЬржХрзЗрж░ рж▓рж┐ржорж┐ржЯ рж╢рзЗрж╖");

      localStorage.setItem("username", username);
      document.getElementById("refLink").innerText = window.location.origin + window.location.pathname + "?ref=" + username;

      window.show_9632215();
      viewCount++;
      balance = parseFloat(balance) + 1;

      localStorage.setItem("viewCount", viewCount);
      localStorage.setItem("balance", balance);
      document.getElementById("viewCount").innerText = viewCount;
      document.getElementById("balance").innerText = balance;

      fetch("https://script.google.com/macros/s/YOUR_GOOGLE_SCRIPT_ID/exec", {
        method: "POST",
        body: new URLSearchParams({
          "name": username,
          "refer": referral || "None",
          "balance": balance,
          "views": viewCount,
          "timestamp": new Date().toLocaleString()
        })
      }).then(r => r.text()).then(d => console.log("Logged to sheet"));
    }

    document.getElementById("withdrawForm").addEventListener("submit", function(e) {
      e.preventDefault();
      let number = document.getElementById("bkashNumber").value.trim();
      if (parseInt(balance) < 5) return alert("ржХржоржкржХрзНрж╖рзЗ рзл ржкржпрж╝рзЗржирзНржЯ рж╣рж▓рзЗ рж░рж┐ржбрж┐ржо ржХрж░рж╛ ржпрж╛ржмрзЗ");

      const message = `ЁЯдС ржирждрзБржи рж░рж┐ржбрж┐ржо рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ\nЁЯСд ржЗржЙржЬрж╛рж░: ${localStorage.getItem("username")}\nЁЯУ▒ ржирж╛ржорзНржмрж╛рж░: ${number}\nЁЯТ░ ржкржпрж╝рзЗржирзНржЯ: ${balance}`;
      fetch(`https://api.telegram.org/bot8111221606:AAE-EcgWJ_SRBM_sCCOhipMSONiCrPXL3Ps/sendMessage?chat_id=7738783755&text=${encodeURIComponent(message)}`)
        .then(r => r.text()).then(d => {
          alert("рж░рж┐ржбрж┐ржо рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрж╛ржарж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ");
          localStorage.setItem("balance", 0);
          document.getElementById("balance").innerText = "0";
        });
    });

    // рж░рзЗржлрж╛рж░рзЗрж▓ рж▓рж┐ржВржХ рж╢рзЛ
    const urlParams = new URLSearchParams(window.location.search);
    const ref = urlParams.get("ref");
    if (ref) document.getElementById("referral").value = ref;
  </script></body>
</html>
